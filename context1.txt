네, 알겠습니다. 지금까지의 긴 논의를 통해 다듬어진 **[Artisan's Compass]**의 **최종 기획 및 구조**를 개발 언어와 관계없이 구현 가능한 형태의 **설계 문서(Design Document)**로 정리해 드립니다.

이 문서는 추후 어떤 언어(C#, Python, JS 등)로 개발하더라도 변하지 않는 **프로젝트의 청사진**입니다.

---

# 🧭 Artisan's Compass: 최종 설계 문서 (Ver 1.0)

## 1. 프로젝트 개요 (Overview)
* **제품명:** Artisan's Compass (장인의 나침반)
* **핵심 철학:** 창작의 **'실행(Doing)'**과 **'계획/회고(Thinking)'**를 철저히 분리하여 몰입을 돕는 매니지먼트 도구.
* **대상 사용자:** 장기 프로젝트와 데일리 루틴을 병행하는 일러스트레이터.

---

## 2. UI 구조 및 화면 구성 (User Interface)

전체적인 UI는 **[메인 대시보드]**, **[과거 아카이브]**, **[마감 리추얼 모달]** 3가지 핵심 화면으로 구성됩니다.

### A. 메인 대시보드 (Main Dashboard)
*앱 실행 시 보이는 기본 화면입니다.*

1.  **상단: 프로젝트 타임라인 (Project Timeline)**
    * **구성:** 간트 차트(Gantt Chart) 형태의 가로 바(Bar).
    * **기능:**
        * `[+ New Project]` 버튼: 새 프로젝트 바 생성 (기본 2주).
        * **드래그 조절:** 바의 양끝을 잡아 기간 수정 (일자 스냅 적용).
        * **속성 설정:** 바 클릭 시 플로팅 메뉴 호출 (이름 변경, 태그 설정: 메인/서브/연습 등).
    * **초기 상태:** 프로젝트가 없으면 "첫 번째 프로젝트를 생성해보세요" 안내.

2.  **좌측: 네비게이터 (Calendar)**
    * **구성:** 월간 달력(Monthly View).
    * **상호작용:**
        * **오늘 클릭:** 우측 패널을 [오늘의 대시보드]로 전환.
        * **과거 날짜 클릭:** 화면 전체를 덮는 **[Daily Archive]** 오버레이 호출.
        * **빈 날짜:** "기록 없음" 대신 "휴식하셨나요? ☕" 문구 표시.

3.  **우측: 인터랙티브 데일리 패널 (Interactive Daily Panel)**
    * **기본 상태 (Idle):** 상단 [Daily Quest 배지(예: 크로키)] + 중앙 [오늘의 명언].
    * **활성 상태 (Active - 날짜 클릭):** [To-Do List] 패널이 슬라이드되어 나옴. (데이터가 없으면 "오늘의 목표 추가" 버튼 표시).
    * **정보 확인 (Hover Edge):** 우측 가장자리에 마우스 오버 시 **[Time Table 그래프]** 오버레이.
    * **기능 제어 (Shelf Button):** 우측 화살표 버튼 클릭 시 **[Quest 체크박스]** + **[End 버튼]** 패널 돌출.

### B. 데일리 아카이브 (Daily Archive - Past View)
*과거 날짜를 클릭하거나, 하루 마감 시 뜨는 '결과 리포트' 화면입니다.*
*배경이 어두워지고 중앙에 팝업되는 전체 화면 오버레이입니다.*

* **좌측 (Visual):** **타임랩스 플레이어**. (그날 저장된 스크린샷들을 슬라이더로 탐색).
* **중앙 (Log):** **완료된 To-Do List** (수정 불가, 취소선 표시).
* **우측 (Stats):** **Time Table 그래프** (집중 구간 시각화) + **Quest 성공 도장**.

### C. 마감 리추얼 모달 (Closing Ritual Modal)
*우측 패널의 `End` 버튼 클릭 시 실행되는 하루 마무리 과정입니다.*

* **진입:** `End` 버튼 → "오늘 하루를 마치시겠습니까?" (예/아니오) → 배경 블러(Blur) 처리 후 플로팅 창 등장.
* **Step 1. 회고 (Review):** [데일리 아카이브]와 동일한 화면. 오늘 작업물과 기록 확인. → `[Next]`
* **Step 2. 계획 (Plan):**
    * **To-Do 작성:** 내일 날짜의 할 일 목록 미리 작성.
    * **자료 준비 리마인더:** (이미지 저장 기능 삭제됨) "내일 작업할 자료를 PureRef에 세팅해 주세요!" 문구 표시.
* **종료:** `[Check ✅]` 버튼 클릭 시 앱 종료.

---

## 3. 핵심 기능 명세 (Functional Logic)

### 1. 타임 트래킹 시스템 (Smart Time Tracker)
* **감지 조건 (AND 조건):**
    1.  사용자가 지정한 **타겟 프로세스**(예: `CLIPStudioPaint.exe`)가 활성화 상태일 것.
    2.  **마우스/키보드 입력**이 감지될 것.
* **유휴 감지 (Idle Detection):** 설정된 시간(기본 10초) 동안 입력이 없으면 타이머 일시 정지.
* **날짜 기준 (Date Boundary):** **작업 시작 시간**을 기준으로 날짜 귀속.
    * *Rule:* 24일 23:00 시작 ~ 25일 02:00 종료 → **24일의 기록**으로 저장.
* **수동 보정:** Time Table 그래프에서 우클릭으로 시간 블록 추가/삭제 가능.

### 2. 온보딩 (Onboarding)
* 최초 실행 시 1회 진행.
    1.  **메인 툴 설정:** 파일 탐색기를 열어 주로 쓰는 프로그램(.exe) 선택.
    2.  **첫 프로젝트 생성:** 가이드에 따라 첫 타임라인 바 생성 유도.

### 3. 데이터 안전장치 (Safety & Backup)
* **다중 백업:** 설정에서 지정한 2~3개의 경로(로컬, 외장하드, 클라우드 폴더 등)에 데이터 파일 자동 동시 백업.
* **가져오기/내보내기:** 기기 변경을 위한 설정 메뉴 제공.

---

## 4. 데이터 구조 설계 (Data Structure)

언어에 상관없이 데이터는 `JSON` 형식으로 구조화하여 관리합니다.

### A. 설정 데이터 (`settings.json`)
* 타겟 프로세스 경로
* 유휴 감지 임계값 (초)
* 백업 폴더 경로 리스트
* 작업 분류 태그 (Main, Sub, Practice 등)
* 기본 프로젝트 기간 (Default: 14일)

### B. 프로젝트 데이터 (`projects.json`)
* Project ID
* 이름, 타입, 시작일, 종료일(D-Day), 완료 여부

### C. 일별 로그 데이터 (`daily_log_YYYY_MM.json`)
* **Key:** 날짜 (`YYYY-MM-DD`)
    * **Sessions:** [`시작시간`, `종료시간`, `지속시간`]의 리스트 (타임테이블용)
    * **To-Dos:** [`내용`, `완료여부`] 리스트
    * **Stats:** 총 작업 시간, Daily Quest 달성 여부
    * **Assets:** 스크린샷 파일 경로 리스트
    * **Status:** 휴식일 여부 (데이터가 아예 없으면 휴식일로 간주하되, 명시적 플래그 사용 가능)

---

이 기획서는 개발 언어가 정해지지 않은 상태에서도 **UI(보이는 것)**, **로직(작동하는 법)**, **데이터(저장되는 법)**를 모두 정의하고 있습니다.

이제 개발 언어(Python, C#, JS 등)만 결정되면, 이 문서를 그대로 코드로 옮기기만 하면 됩니다. 기획 단계에서 더 수정하거나 추가하고 싶은 부분이 있으신가요?