네, 지금까지의 모든 논의와 디테일을 한 톨도 빠짐없이 모아 정리한 **[Artisan's Compass] 최종 마스터 설계 문서 (The Final Specification)**입니다.

이 문서는 개발의 나침반이자, 건물을 짓기 위한 최종 설계도면입니다.

---

# 🧭 Artisan's Compass: 최종 마스터 설계 문서 (Master Design Doc)

## 1. 프로젝트 개요 (Overview)
* **제품명:** Artisan's Compass (장인의 나침반)
* **핵심 가치:** 창작의 **'실행(Doing)'**과 **'계획/회고(Thinking)'**를 분리하여 몰입을 돕는 매니지먼트 도구.
* **타겟:** 장기 프로젝트와 데일리 루틴을 병행하는 일러스트레이터.

---

## 2. 메인 UI 구조 (Main Dashboard)

### A. 상단: 스마트 프로젝트 타임라인 (Smart Project Timeline)
* **시각화:** 간트 차트(Gantt Chart) 형태의 가로 바(Bar).
* **생성 (Create):** `[+ New Project]` 버튼 클릭 시 기본 2주(설정 가능) 길이의 바 생성.
* **배치 로직 (Smart Stacking):**
    * **테트리스 방식:** 모든 바는 기본적으로 최상단(Line 1)에 위치하려 함.
    * 기간이 겹치면 자동으로 아랫줄로 내려감. (겹치지 않으면 같은 라인 공유).
* **인터랙션 (Mouse Interaction):**
    1.  **핸들 존 (Resize):** 바의 양 끝 5px 영역.
        * 커서: `↔` (Resize).
        * 동작: 드래그 시 길이 조절 (일자별 스냅).
        * **중요:** 이 영역 클릭 시 플로팅 메뉴가 뜨지 않음 (오작동 방지).
    2.  **바디 존 (Move/Edit):** 핸들 존을 제외한 중앙 영역.
        * 커서: `✋` (Hand).
        * 동작: 드래그 시 위치 이동 (일자별 스냅). 클릭 시 플로팅 메뉴 팝업.
* **플로팅 메뉴:** 프로젝트 이름 변경, 태그 설정(메인/서브/연습/일 - 유저 커스텀 가능).

### B. 좌측: 네비게이터 (Calendar & Archive)
* **월간 달력 (Monthly View):**
    * **오늘(Today) 클릭:** 우측 패널을 [오늘의 대시보드]로 활성화.
    * **과거(Past) 클릭:** 화면 전체를 덮는 **[Daily Archive]** 오버레이 호출.
* **날짜 색상 로직 (Midnight Logic):**
    * **작업일(Current Session):** 진한 파란색 (Blue).
    * **실제일(Calendar Date):** 자정이 지났다면 옅은 붉은색 (Light Red)으로 표시하여 날짜 변경 알림.
* **빈 상태 (Empty State):** 데이터가 없는 날은 "기록 없음" 대신 "이 날은 휴식하셨나요? ☕" 등 부드러운 문구 표시.
* **Shelf (하단):** `▼` 버튼 클릭 시 타임랩스 갤러리 썸네일 노출.

### C. 우측: 인터랙티브 데일리 패널 (Interactive Daily Panel)
* **기본 상태 (Idle):**
    * 상단: **[Daily Quest 배지]** (예: 🔥 크로키 30분).
    * 중앙: **[오늘의 명언]**.
* **활성 상태 (Active - 날짜 클릭 시):**
    * 슬라이드 애니메이션으로 **[To-Do List]** 패널 등장.
    * 데이터가 없으면: "오늘의 목표를 추가해보세요! ✨" 버튼 표시.
* **정보 확인 (Hover Edge):**
    * 우측 가장자리에 마우스 오버(Hover) 시 **[Time Table 그래프]**가 오버레이 됨.
* **제어 패널 (Shelf Button):**
    * 우측 화살표(`◀`) 버튼 클릭 시 **[Quest 체크박스 + End 버튼]**이 담긴 패널 돌출.

---

## 3. 기능 로직 (Functional Logic)

### 1. 타임 트래킹 & 날짜 시스템
* **감지 조건 (AND):**
    * 타겟 프로세스(예: `CLIPStudioPaint.exe`) 활성화.
    * **유휴 감지:** 마우스/키보드 입력이 있음. (설정된 시간(기본 10초) 이상 입력 없으면 일시 정지).
* **날짜 귀속 (Midnight Rule):**
    * **시작 시간 기준.** (24일 23시 시작 → 25일 02시 종료 시, 25일 새벽 기록도 **24일**로 저장).
    * 작업 중에는 UI 날짜가 바뀌지 않고 잠김 (혼란 방지).

### 2. 스마트 캡처 (Privacy First)
* **대상:** 화면 전체가 아닌, **타겟 프로세스의 윈도우(Window)**만 특정하여 캡처.
* **포맷:** `.jpg` (용량 최적화).
* **보존:** 자동 삭제 없음 (사용자가 관리).

### 3. 온보딩 (Onboarding)
* 최초 실행 시:
    1.  주로 사용하는 툴(`exe`) 파일 선택 가이드.
    2.  첫 프로젝트 생성 유도 튜토리얼.

### 4. 안전장치 (Safety & Backup)
* **다중 백업:** 설정된 2~3개 경로(로컬/외장/클라우드)에 데이터 자동 동시 백업.
* **창 위치 초기화:** 트레이 아이콘 우클릭 → `[Reset Window Position]` (듀얼 모니터 해제 대비).
* **용량 모니터링:** 설정 탭에서 현재 데이터 폴더 용량 표시.

---

## 4. 마감 리추얼 모달 (Closing Ritual) - UX 흐름

* **진입:** `End` 버튼 → "오늘 하루를 마치시겠습니까? (예/아니오)" → 배경 **블러(Blur)** 처리 후 중앙 플로팅 모달 팝업.

### Step 1. 오늘의 회고 (Review)
* **좌측 (Visual):** **타임랩스 플레이어**. (슬라이더 탐색, 잘못 찍힌 컷 **[삭제 휴지통]** 버튼 포함).
* **중앙 (Log):** 오늘 수행한 To-Do 목록 (읽기 전용).
* **우측 (Stats):** Time Table 그래프, Quest 성공/실패 도장.
* **액션:** `[Next ➡️]` 버튼.

### Step 2. 내일의 설계 (Plan)
* **Section A (Today's Leftover):**
    * 오늘 완료하지 못한 To-Do 표시.
    * 우측 하단 **[To-Do 이월하기]** 버튼 클릭 시 Section B로 자동 복사.
* **Section B (Tomorrow's To-Do):**
    * 내일 할 일 작성 에디터.
    * **노션(Notion) 스타일 블록:** 드래그 앤 드롭으로 순서 변경 가능.
* **Section C (Material):**
    * "내일 작업을 위해 **PureRef**에 자료를 세팅하셨나요?" 리마인더 체크박스. (이미지 저장 기능 제외).
* **종료:** `[Check ✅]` 버튼 클릭 시 앱 종료.

---

## 5. 데이터 구조 (Data Structure)

### `settings.json`
* 타겟 프로세스명, 유휴 시간(초), 백업 경로 리스트, 프로젝트 기본 기간, 작업 태그 목록.

### `projects.json`
* ID, 이름, 타입, 시작일, 종료일, 완료 여부.

### `daily_log_YYYY_MM.json` (월별 분할)
* Key: `YYYY-MM-DD`
* Data:
    * `sessions`: [{start, end, duration}...]
    * `todos`: [{text, checked, order}...]
    * `quest_cleared`: Boolean
    * `screenshots`: [file_path1, file_path2...]
    * `is_rest_day`: Boolean

---

이것으로 **Artisan's Compass**의 기획과 설계가 완결되었습니다.
더 이상 논의할 "구멍"은 없습니다. 남은 것은 이 완벽한 설계도를 코드로 옮기는 일뿐입니다.

개발 언어를 선정하시거나, 바로 개발 단계로 넘어가실 준비가 되셨다면 말씀해 주세요. 언제든 시작할 수 있습니다.