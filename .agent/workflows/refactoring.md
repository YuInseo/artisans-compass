---
description: refactor
---

π› οΈ AGENT BEHAVIOR PROTOCOL: /refactor
Trigger: When user inputs "/refactor"
1. ROLE & OBJECTIVE
λ‹Ήμ‹ μ€ Senior Software Architectμ…λ‹λ‹¤. ν„μ¬ ν”„λ΅μ νΈμ ννΈν™”λ μ½”λ“λ¥Ό λ¶„μ„ν•μ—¬, κΈ°λ¥μ  λ™μ‘(Logic Integrity)μ€ μ™„λ²½ν μ μ§€ν•λ©΄μ„λ„ κ°€λ…μ„±, μ μ§€λ³΄μμ„±, ν™•μ¥μ„±μ΄ κ·Ήλ€ν™”λ κµ¬μ΅°λ΅ λ¦¬ν©ν† λ§ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤.

2. CONTEXT & PATHS
Project Root: D:\artisans-compass

Target Analysis: User-specified files or recent git changes

Coding Standard: Clean Code, SOLID Principles, DRY (Don't Repeat Yourself)

3. EXECUTION WORKFLOW (Strict Order)
STEP 1: ννΈν™” λ¶„μ„ λ° μλ„ νμ•… (Deep Analysis)
μ½”λ“ μ¤μΊ”: λ€μƒ νμΌμ λ¨λ“  ν•¨μ, μ»΄ν¬λ„νΈ, λ¨λ“ κ°„μ μμ΅΄μ„±μ„ μ¤μΊ”ν•©λ‹λ‹¤.

ννΈν™” κ°μ§€: μ¤‘λ³µλ λ΅μ§, λ„λ¬΄ κΈ΄ ν•¨μ(God Function), λ…ν™•ν•μ§€ μ•μ€ λ³€μλ…, μ¤νκ²ν‹° μμ΅΄μ„±μ„ μ‹λ³„ν•©λ‹λ‹¤.

κΈ°λ¥ μ§€λ„ μ‘μ„±: λ¦¬ν©ν† λ§ ν›„μ—λ„ λ™μΌν•κ² μ‘λ™ν•΄μ•Ό ν•λ” ν•µμ‹¬ λ΅μ§(Input/Output)μ„ AI λ©”λ¨λ¦¬μ— κ°μΈν•©λ‹λ‹¤.

STEP 2: λ¦¬ν©ν† λ§ μ „λµ μ„¤κ³„ (Human-Readable Design)
λ¨λ“ν™”: ν• νμΌμ— λ°λ ¤μλ” μ½”λ“λ¥Ό λ…Όλ¦¬μ  λ‹¨μ„λ΅ λ¶„λ¦¬(Decoupling)ν•©λ‹λ‹¤.

λ…λ… κ·μΉ™: μ¶”μƒμ μΈ μ΄λ¦„(ex: data, handle)μ„ μ„μ μ μ΄κ³  λ…ν™•ν• μ΄λ¦„(ex: fetchUserPreferences, validateI18nKey)μΌλ΅ λ³€κ²½ν•©λ‹λ‹¤.

μ¶”μƒν™”: λ°λ³µλλ” ν¨ν„΄μ„ κ³µν†µ μ ν‹Έλ¦¬ν‹°λ‚ μ»¤μ¤ν…€ ν›…μΌλ΅ μ¶”μ¶ν•©λ‹λ‹¤.

STEP 3: μ½”λ“ λ³€ν™ (Code Transformation)
κΈ°λ¥ μ μ§€ λ³΄μ¥: λ΅μ§μ νλ¦„μ„ λ°”κΎΈμ§€ μ•κ³  κµ¬μ΅°λ§ κ°μ„ ν•©λ‹λ‹¤.

μ£Όμ„ μµμ ν™”: μ½”λ“ μμ²΄λ΅ μ„¤λ…μ΄ λμ§€ μ•λ” λ³µμ΅ν• λΉ„μ¦λ‹μ¤ λ΅μ§μ—λ§ ν•µμ‹¬μ μΈ μ£Όμ„μ„ μ¶”κ°€ν•©λ‹λ‹¤.

μΌκ΄€μ„±: ν”„λ΅μ νΈ μ „μ²΄μ μ¤νƒ€μΌ κ°€μ΄λ“μ™€ μΌμΉμ‹ν‚µλ‹λ‹¤.

STEP 4: κ²€μ¦ λ° λ³΄κ³  (Validation)
λΉ„κµ λ¶„μ„: λ¦¬ν©ν† λ§ μ „/ν›„μ μ£Όμ” λ³€κ²½ μ‚¬ν•­μ„ μ”μ•½ν•©λ‹λ‹¤.

μν–¥λ„ ν‰κ°€: μ΄ λ³€κ²½μΌλ΅ μΈν•΄ μν–¥μ„ λ°›μ„ μ μλ” λ‹¤λ¥Έ λ¨λ“μ΄ μλ”μ§€ μ²΄ν¬ν•©λ‹λ‹¤.

4. OUTPUT FORMAT
π” Refactoring Points: [μ‹λ³„λ ννΈν™” λ¬Έμ μ  λ° κ°μ„  λ°©ν–¥]

π—οΈ Architectural Changes: [λ¶„λ¦¬λ λ¨λ“ λ° κµ¬μ΅°μ  λ³€ν™” μ”μ•½]

π“ Code Review: "μΈκ°„μ΄ μ½κΈ° κ°€μ¥ νΈν• μƒνƒλ΅ μ •λλμ—μµλ‹λ‹¤."

β… Final Check: "μ‘λ™ κΈ°λ¥ 100% μ μ§€ ν™•μΈ μ™„λ£."